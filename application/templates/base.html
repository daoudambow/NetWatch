<!DOCTYPE html>
<html lang="fr" class="scroll-smooth" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NetWatch – {{ title|default('Supervision Réseau Professionnelle') }}</title>
    <meta name="description" content="NetWatch - Outil de supervision réseau avancé et moderne">
    
    <!-- Tailwind CSS + custom config -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
                    animation: { 'fade-in-up': 'fadeInUp 0.5s ease-out' },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        }
                    }
                }
            }
        }
    </script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-gradient-to-br from-gray-950 via-gray-900 to-black text-gray-100 min-h-screen font-sans antialiased">

    <!-- Overlay pour fermer sidebar sur mobile -->
    <div id="overlay" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-40 lg:hidden opacity-0 pointer-events-none transition-opacity duration-300" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="fixed inset-y-0 left-0 z-50 w-72 lg:w-80 bg-gradient-to-b from-gray-900 to-gray-950 border-r border-gray-800/70 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out shadow-2xl">
        <div class="flex flex-col h-full">
            <!-- Logo & Titre -->
            <div class="p-8 border-b border-gray-800/50 bg-gradient-to-r from-blue-950/30 to-transparent">
                <div class="flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center shadow-lg">
                        <i class="fas fa-shield-halved text-3xl text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400 tracking-tight">
                            NetWatch
                        </h1>
                        <p class="text-xs text-cyan-300/70 mt-1">Supervision Réseau Pro</p>
                    </div>
                </div>
            </div>

            <!-- Navigation principale -->
            <nav class="flex-1 px-6 py-8 space-y-2 overflow-y-auto">
                <a href="{{ url_for('dashboard') }}" class="group flex items-center gap-5 px-6 py-4 rounded-2xl transition-all duration-300 {{ 'bg-gradient-to-r from-blue-600/30 to-cyan-600/20 text-white shadow-md border border-blue-500/30' if active_tab == 'dashboard' else 'text-gray-300 hover:bg-gray-800/60 hover:shadow-lg hover:border-gray-700' }}">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-gauge-high text-xl"></i>
                    </div>
                    <span class="text-lg font-medium">Dashboard</span>
                </a>

                <a href="{{ url_for('scan') }}" class="group flex items-center gap-5 px-6 py-4 rounded-2xl transition-all duration-300 {{ 'bg-gradient-to-r from-blue-600/30 to-cyan-600/20 text-white shadow-md border border-blue-500/30' if active_tab == 'scan' else 'text-gray-300 hover:bg-gray-800/60 hover:shadow-lg hover:border-gray-700' }}">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-radar text-xl"></i>
                    </div>
                    <span class="text-lg font-medium">Scan Local</span>
                </a>

                <a href="{{ url_for('contacts') }}" class="group flex items-center gap-5 px-6 py-4 rounded-2xl transition-all duration-300 {{ 'bg-gradient-to-r from-blue-600/30 to-cyan-600/20 text-white shadow-md border border-blue-500/30' if active_tab == 'contacts' else 'text-gray-300 hover:bg-gray-800/60 hover:shadow-lg hover:border-gray-700' }}">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-address-book text-xl"></i>
                    </div>
                    <span class="text-lg font-medium">Contacts</span>
                </a>

                <a href="{{ url_for('stats') }}" class="group flex items-center gap-5 px-6 py-4 rounded-2xl transition-all duration-300 {{ 'bg-gradient-to-r from-blue-600/30 to-cyan-600/20 text-white shadow-md border border-blue-500/30' if active_tab == 'stats' else 'text-gray-300 hover:bg-gray-800/60 hover:shadow-lg hover:border-gray-700' }}">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-green-500/20 to-emerald-500/20 flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-chart-line text-xl"></i>
                    </div>
                    <span class="text-lg font-medium">Statistiques</span>
                </a>

                <a href="{{ url_for('settings') }}" class="group flex items-center gap-5 px-6 py-4 rounded-2xl transition-all duration-300 {{ 'bg-gradient-to-r from-blue-600/30 to-cyan-600/20 text-white shadow-md border border-blue-500/30' if active_tab == 'settings' else 'text-gray-300 hover:bg-gray-800/60 hover:shadow-lg hover:border-gray-700' }}">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-cog text-xl"></i>
                    </div>
                    <span class="text-lg font-medium">Paramètres</span>
                </a>
            </nav>

            <!-- Footer sidebar -->
            <div class="p-6 border-t border-gray-800 text-sm text-gray-500 bg-gradient-to-t from-gray-950 to-transparent">
                <div class="flex items-center justify-between">
                    <span>© {{ current_year }} NetWatch</span>
                    <span class="text-xs opacity-70">v1.2 • Dakar</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Contenu principal -->
    <main class="lg:ml-72 min-h-screen bg-gradient-to-b from-gray-950 to-black">
        <!-- Header mobile -->
        <header class="lg:hidden bg-gradient-to-r from-gray-900 to-gray-950 border-b border-gray-800 px-6 py-5 flex items-center justify-between sticky top-0 z-40 backdrop-blur-lg">
            <button onclick="toggleSidebar()" class="text-2xl text-white focus:outline-none">
                <i class="fas fa-bars"></i>
            </button>
            <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent">NetWatch</h1>
            <div class="w-8"></div>
        </header>

        <div class="p-6 lg:p-10">
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Toast container global -->
    <div id="toast-container" class="fixed bottom-6 right-6 z-50 space-y-4 max-w-sm lg:max-w-md"></div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
